{% extends "base.html.jinja" %}


{% block title %}Gallery{% endblock %}
{%set active_page = 'gallery'%}
{% block content %}

<div class="gallery-container">
    <h1 style="font-size: 40px">{{ photographer.name }}'s Gallery</h1>

    {% if session.get(EMAIL_SESSION_KEY) %}
        <section class="booking">
        <h2>About Me:<h2>
        <p style="font-size:20px; font-weight:100">{{photographer.about}}</p>
        {% if photographer.email == curr_user.email %} 
            <a style="font-weight:100" href="{{ url_for('core.edit_gallery', email=photographer.email) }}">Edit Page</a>
        {% endif %}
        {% if user_type != "photographer" %}
            <a href="{{ url_for('core.contact', photographer_email=photographer.email) }}">Contact</a> 
            <a href="{{ url_for('core.book', photographer_email=photographer.email) }}">Book a Session!</a>
        {% endif %}
        </section>
    {% else %}
        <a href="{{ url_for('core.contact', photographer_email=photographer.email) }}">Contact</a> 
        <a href="{{ url_for('core.register') }}">Register or sign in to book with this photographer!</a>
    {% endif %}

    {% set ns = namespace(palbums = "none") %}
    <section class="albums"}
    {% for album in albums %}
        <div class="album-container">
            {% set ns.palbums = "non empty" %}
            <h2 style="font-size: 30px"> {{ album.name }} </h2>
            {% if photographer.email == curr_user.email %} 
                {# TODO #}
                <a href="{{ url_for('core.gallery', email=photographer.email) }}">Remove Album</a>
            {% endif %}
            
            <div style="margin-top: 15px" class="photos-container">

                <img src={{url_for('static', filename='flower1.jpg')}}>
                <img src={{url_for('static', filename='flower2.jpg')}}>
                <img src={{url_for('static', filename='flower3.jpg')}}>
                <img src={{url_for('static', filename='flower1.jpg')}}>
                <img src={{url_for('static', filename='flower2.jpg')}}>
                <img src={{url_for('static', filename='flower3.jpg')}}>
                <img src={{url_for('static', filename='flower1.jpg')}}>
                <img src={{url_for('static', filename='flower2.jpg')}}>
                <img src={{url_for('static', filename='flower3.jpg')}}>

                {% for photo in album.photos %}
                    {# <img src={{url_for('static', filename=photo.pathname)}}> #}
                {% endfor %}
            </div>
        </div>
    {% endfor %}
    </section>
    {% if ns.palbums == "none" %}
        <p style="font-size:18px">This photographer has not yet uploaded any albums. Check back later!</p>
    {% endif %}
</div>
{% endblock %}


